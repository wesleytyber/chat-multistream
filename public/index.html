<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Multi-Chat</title>
    <link rel="stylesheet" href="/css/multichat.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9547769843872493"
        crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-9547769843872493">
</head>

<body>
    <div class="app-wrapper">

        <div class="app-header-container">
            <h1 class="app-title">
                <span class="icon">üåê</span>
                <span class="main">Multi Chat</span>
                <span class="subtitle">‚Äî Modera√ß√£o e Visualiza√ß√£o</span>
            </h1>

            <!-- An√∫ncio no header -->
            <div class="header-ad">
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9547769843872493"
                    data-ad-slot="1234567890" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
            </div>

        </div>

        <div class="chat-area" id="chatArea"></div>

        <!-- Main container: chats + painel -->
        <div class="app-container">
            <div class="config-panel" id="configPanel">
                <h2>Configura√ß√£o de chats</h2>
                <div class="chat-config">
                    <label>
                        <!-- Twitch SVG -->
                        <svg fill="#9146FF" viewBox="0 0 24 24">
                            <path d="M3 0 1 4v16h6v4h4l4-4h6l6-6V0H3zm18 12-3 3h-6l-4 4v-4H5V2h16v10z" />
                            <path d="M15 5h2v6h-2zm-5 0h2v6h-2z" />
                        </svg>
                        Twitch
                    </label>
                    <input type="text" id="twitchUser" placeholder="Nome do canal">
                    <label>
                        <input type="checkbox" id="twitchToggle">
                        <span id="twitchLabel">Ativar Twitch</span>
                    </label>
                </div>
                <div class="chat-config">
                    <label>
                        <!-- Kick SVG (verde) -->
                        <svg fill="#53FC18" viewBox="0 0 24 24">
                            <rect width="24" height="24" rx="4" />
                        </svg>
                        Kick
                    </label>
                    <input type="text" id="kickUser" placeholder="Nome do canal">
                    <label>
                        <input type="checkbox" id="kickToggle">
                        <span id="kickLabel">Ativar Kick</span>
                    </label>
                </div>
                <div class="chat-config">
                    <label>
                        <!-- YouTube SVG -->
                        <svg fill="#FF0000" viewBox="0 0 24 24">
                            <path
                                d="M23.5 6.2s-.2-1.7-.9-2.4c-.9-.9-1.9-.9-2.4-1C16.7 2.5 12 2.5 12 2.5h-.1s-4.7 0-8.2.3c-.5.1-1.6.1-2.4 1-.7.7-.9 2.4-.9 2.4S0 8.1 0 10v1.9c0 1.9.2 3.8.2 3.8s.2 1.7.9 2.4c.9.9 2.1.9 2.6 1 1.9.2 7.9.3 7.9.3s4.7 0 8.2-.3c.5-.1 1.6-.1 2.4-1 .7-.7.9-2.4.9-2.4s.2-1.9.2-3.8V10c0-1.9-.2-3.8-.2-3.8zM9.5 14.7V7.7l6.5 3.5-6.5 3.5z" />
                        </svg>
                        YouTube
                    </label>
                    <input type="text" id="youtubeUser" placeholder="ID da live">
                    <label>
                        <input type="checkbox" id="youtubeToggle">
                        <span id="youtubeLabel">Ativar YouTube</span>
                    </label>
                </div>
                <div class="chat-config">
                    <label>
                        <!-- TikTok SVG -->
                        <svg fill="#fff" viewBox="0 0 24 24">
                            <path
                                d="M12.7 2c1 .8 2.1 1.3 3.4 1.4V6c-.7 0-1.4-.2-2-.4V14c0 2.5-2 4.5-4.5 4.5S5 16.5 5 14s2-4.5 4.5-4.5c.3 0 .6 0 .8.1V12c-.3-.1-.5-.1-.8-.1-1.1 0-2 1-2 2s.9 2 2 2 2-1 2-2V2h3.2z" />
                        </svg>
                        TikTok
                    </label>
                    <input type="text" id="tiktokInput" placeholder="Indispon√≠vel no momento" disabled>
                    <label>
                        <input type="checkbox" id="tiktokToggle">
                        <span id="tiktokLabel">Ativar TikTok</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Bot√£o fora do header e depois do painel -->
        <button class="menu-toggle" id="togglePanelBtn">‚öôÔ∏è</button>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-text">Developed by Kalzan 2025</div>
            <div class="social-links">
                <button id="donateBtn" class="donate-button">üí∞ Donate</button>
                <a href="https://instagram.com/wesleyczans" target="_blank"><img class="social-icons"
                        src="/assets/instagram.png" alt="instagram"></a>
                <a href="https://youtube.com/@k4lzan" target="_blank"><img class="social-icons"
                        src="/assets/youtube.png" alt="youtube"></a>
                <a href="https://twitch.tv/k4lzan" target="_blank"><img class="social-icons"
                        src="/assets/twitch-white.png" alt="twitch"></a>
            </div>
        </footer>

        <!-- Modal Donate -->
        <div id="donateModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeBtn">‚ùå</span>
                <h2>Fa√ßa uma doa√ß√£o via LivePix</h2>

                <!-- Widget LivePix -->
                <iframe src="https://widget.livepix.gg/embed/5fa15866-6327-4c22-9dcf-05b5bddfbf05" width="300"
                    height="400" frameborder="0" allowtransparency="true" scrolling="no">
                </iframe>

                <p>Ou direto pelo banco usando a Chave Pix: <strong id="pixKey"></strong></p>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <!-- Script oficial do Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>(adsbygoogle = window.adsbygoogle);</script>
    <script>
        const socket = io();
        const chatArea = document.getElementById('chatArea');
        const twitchIcon = '<img class="twitch-icon" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Twitch_logo_2019.svg/1024px-Twitch_logo_2019.svg.png?20200326164935" alt="Twitch">';
        const kickIcon = '<img class="kick-icon" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Kick_logo.svg/1599px-Kick_logo.svg.png?20230628205512" alt="Kick">';
        const youtubeIcon = '<img class="youtube-icon" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/YouTube_Logo_2017.svg/1024px-YouTube_Logo_2017.svg.png?20230929095411" alt="Youtube">';
        
        function handleChat(platform) {
            const input = document.getElementById(platform + 'User');
            const toggle = document.getElementById(platform + 'Toggle');
            const value = input.value.trim();
            if (!value) return alert("Digite o nome do canal!");

            let existing = document.getElementById(platform + 'Wrapper');

            if (toggle.checked) {
                if (!existing) {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'chat-wrapper';
                    wrapper.id = platform + 'Wrapper';

                    const header = document.createElement('div');
                    header.className = 'chat-header';
                    let icon = '';
                    if (platform === 'twitch') icon = twitchIcon;
                    if (platform === 'kick') icon = kickIcon;
                    if (platform === 'youtube') icon = youtubeIcon;
                    header.innerHTML = `${icon} ${platform.toUpperCase()} - ${value}`;
                    
                    const chatDiv = document.createElement('div');
                    chatDiv.id = platform + 'Chat';
                    chatDiv.className = 'chat-messages';

                    wrapper.appendChild(header);
                    wrapper.appendChild(chatDiv);

                    // cria iframe
                    const iframe = document.createElement('iframe');
                    iframe.id = platform + 'Chat';
                    iframe.setAttribute('frameborder', '0');


                    if (platform === 'twitch') {
                        iframe.src = `https://www.twitch.tv/embed/${value}/chat?darkpopout&parent=kalzan.com`;
                    }

                    wrapper.appendChild(iframe);
                    if (platform === 'kick') {
                        iframe.src = `https://kick.com/${value}/chat`;
                    }

                    if (platform === 'youtube') {
                        iframe.src = `https://www.youtube.com/live_chat?v=${value}&embed_domain=kalzan.com`;
                    }

                    if (platform === 'tiktok') {
                        chatDiv.innerHTML = `<span>Coming Soon</span>`;
                    }

                    chatArea.appendChild(wrapper);

                }
            } else {
                if (existing) existing.remove();
            }
        }

        ['twitch', 'kick', 'youtube', 'tiktok'].forEach(platform => {
            document.getElementById(platform + 'Toggle').addEventListener('change', () => handleChat(platform));
        });

        const configPanel = document.getElementById('configPanel');
        const togglePanelBtn = document.getElementById('togglePanelBtn');
        let menuOpen = true;

        togglePanelBtn.addEventListener('click', () => {
            configPanel.classList.toggle('show');
            menuOpen = !menuOpen;
            togglePanelBtn.textContent = menuOpen ? '‚öôÔ∏è' : '‚ùå';
            togglePanelBtn.style.transform = configPanel.classList.contains('show') ? 'translateX(-300px)' : 'translateX(0)';
        });


        const toggles = [
            { id: "twitchToggle", label: "twitchLabel", name: "Twitch" },
            { id: "kickToggle", label: "kickLabel", name: "Kick" },
            { id: "youtubeToggle", label: "youtubeLabel", name: "YouTube" },
            { id: "tiktokToggle", label: "tiktokLabel", name: "TikTok" }
        ];

        toggles.forEach(({ id, label, name }) => {
            const checkbox = document.getElementById(id);
            const span = document.getElementById(label);

            if (!checkbox || !span) return;

            // Atualiza o texto conforme o estado inicial
            span.textContent = checkbox.checked ? `Desativar ${name}` : `Ativar ${name}`;

            // Atualiza sempre que mudar
            checkbox.addEventListener("change", () => {
                span.textContent = checkbox.checked ? `Desativar ${name}` : `Ativar ${name}`;
            });
        });

        // ----------------- Donate -----------------
        const donateBtn = document.getElementById('donateBtn');
        const donateModal = document.getElementById('donateModal');
        const closeBtn = document.getElementById('closeBtn');
        const pixQr = document.getElementById('pixQr');
        const pixKeyElement = document.getElementById('pixKey');
        const pixKey = "f91c3c69-0a2e-40cc-89ed-7c452314de7a";

        donateBtn.onclick = () => {
            donateModal.style.display = "flex";
            pixKeyElement.textContent = pixKey;
            pixQr.innerHTML = "";
            new QRCode(pixQr, { text: pixKey, width: 220, height: 220 });
        };

        closeBtn.onclick = () => donateModal.style.display = "none";

        window.onclick = (e) => { if (e.target == donateModal) donateModal.style.display = "none"; };

    </script>
</body>

</html>
